{"ast":null,"code":"import HistoryQuery from '@/components/history/HistoryQuery.vue';\nimport HistoryTable from '@/components/history/HistoryTable.vue';\nimport HistoryDefaultPage from '@/components/history/HistoryDefaultPage.vue';\nimport HistoryPagination from '@/components/history/HistoryPagination.vue';\nexport default {\n  name: \"HistoryData\",\n  components: {\n    HistoryQuery,\n    HistoryTable,\n    HistoryDefaultPage,\n    HistoryPagination\n  },\n\n  data() {\n    return {\n      totalPage: 0,\n      totalImage: 0\n    };\n  },\n\n  computed: {\n    total() {\n      return this.totalImage;\n    }\n\n  },\n\n  mounted() {\n    this.$bus.$on('historyTotalPage', data => {\n      // console.log('我是HistoryData组件，收到了总页数为',data);\n      this.totalPage = data;\n    });\n    this.$bus.$on('historyTotalImage', data => {\n      // console.log('我是HistoryData组件，收到了总条数为',data);\n      this.totalImage = data;\n    });\n  },\n\n  beforeDestroy() {\n    this.$bus.$off('historyTotalPage');\n    this.$bus.$off('historyTotalImage');\n  }\n\n};","map":{"version":3,"mappings":"AAiBA;AACA;AACA;AACA;AAEA;EACAA,mBADA;EAEAC;IACAC,YADA;IAEAC,YAFA;IAGAC,kBAHA;IAIAC;EAJA,CAFA;;EAQAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CAbA;;EAcAC;IACAC;MACA;IACA;;EAHA,CAdA;;EAmBAC;IACA;MACA;MACA;IACA,CAHA;IAIA;MACA;MACA;IACA,CAHA;EAIA,CA5BA;;EA6BAC;IACA;IACA;EACA;;AAhCA","names":["name","components","HistoryQuery","HistoryTable","HistoryDefaultPage","HistoryPagination","data","totalPage","totalImage","computed","total","mounted","beforeDestroy"],"sourceRoot":"src/components/history","sources":["HistoryData.vue"],"sourcesContent":["<template>\r\n  <div id=\"history-container\">\r\n    <HistoryQuery/>\r\n    <div id=\"history-content\" v-show=\"total > 0\">\r\n      <HistoryTable/>\r\n      <HistoryPagination\r\n        :total=\"total\"\r\n        :algin=\"'right'\"\r\n      />\r\n    </div>\r\n    <HistoryDefaultPage\r\n      v-show=\"total == 0\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HistoryQuery from '@/components/history/HistoryQuery.vue';\r\nimport HistoryTable from '@/components/history/HistoryTable.vue';\r\nimport HistoryDefaultPage from '@/components/history/HistoryDefaultPage.vue'\r\nimport HistoryPagination from '@/components/history/HistoryPagination.vue';\r\n\r\nexport default {\r\n  name: \"HistoryData\",\r\n  components: {\r\n    HistoryQuery,\r\n    HistoryTable,\r\n    HistoryDefaultPage,\r\n    HistoryPagination\r\n  },\r\n  data() {\r\n    return {\r\n      totalPage: 0,\r\n      totalImage: 0\r\n    }\r\n  },\r\n  computed: {\r\n    total() {\r\n      return this.totalImage;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$bus.$on('historyTotalPage',(data)=>{\r\n      // console.log('我是HistoryData组件，收到了总页数为',data);\r\n      this.totalPage = data;\r\n    });\r\n    this.$bus.$on('historyTotalImage',(data)=>{\r\n      // console.log('我是HistoryData组件，收到了总条数为',data);\r\n      this.totalImage = data;\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off('historyTotalPage');\r\n    this.$bus.$off('historyTotalImage');\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#history-container {\r\n  min-height: 171px;\r\n  padding: 20px 5% 5px;\r\n  width: 100%;\r\n  height: 96%;\r\n  overflow: auto;\r\n  background: linear-gradient(180deg,#f5f5fc,rgba(255,255,255,0) 100%);\r\n}\r\n\r\n#history-content {\r\n  width: 1300px;\r\n  margin: 0 auto;\r\n  box-shadow: 0 20px 50px rgb(65 62 101 / 15%);\r\n  border-radius: 3px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}